---
export const prerender = false
import BlogCard from '@/components/page/blog/BlogCard.astro'
import Layout from '@/layouts/Layout.astro'
import { paginationPost } from '@/lib/api'
const { lang, slug } = Astro.params

let data = await paginationPost(lang)
let posts = data?.posts?.edges
// export async function getStaticPaths() {
// 	let data = await getAllUris()
// 	let posts = data?.posts?.nodes
// 	return posts.map((post) => ({
// 		params: { lang: post.languageCode, slug: post.slug },
// 		props: { post: post }
// 	}))
// }
// const data = await getSinglrPostById(slug)

console.log(posts)
---

<Layout>
	<!-- Card Blog -->
	<div class="mx-auto max-w-[85rem] px-4 py-10 sm:px-6 lg:px-8 lg:py-14">
		<!-- Title -->
		<div class="mx-auto mb-10 max-w-2xl text-center lg:mb-14">
			<h2 class="text-2xl font-bold dark:text-white md:text-4xl md:leading-tight">The Blog</h2>
			<p class="mt-1 text-gray-600 dark:text-neutral-400">
				See how game-changing companies are making the most of every engagement with Preline.
			</p>
		</div>
		<!-- End Title -->

		<!-- Grid -->
		<div class="grid gap-6 sm:grid-cols-2 lg:grid-cols-3">
			{
				posts.map((post) => {
					return <BlogCard post={post.node} />
				})
			}
		</div>
		<!-- End Grid -->

		<!-- Card -->
		<div class="mt-12 text-center">
			<a
				class="inline-flex items-center gap-x-1 rounded-full border border-gray-200 bg-white px-4 py-3 text-sm font-medium text-blue-600 shadow-sm hover:bg-gray-50 focus:bg-gray-50 focus:outline-none disabled:pointer-events-none disabled:opacity-50 dark:border-neutral-700 dark:bg-neutral-900 dark:text-blue-500 dark:hover:bg-neutral-800 dark:focus:bg-neutral-800"
				href="#"
			>
				Read more
				<svg
					class="size-4 shrink-0"
					xmlns="http://www.w3.org/2000/svg"
					width="24"
					height="24"
					viewBox="0 0 24 24"
					fill="none"
					stroke="currentColor"
					stroke-width="2"
					stroke-linecap="round"
					stroke-linejoin="round"><path d="m9 18 6-6-6-6"></path></svg
				>
			</a>
		</div>
		<!-- End Card -->
	</div>
</Layout>

<style is:global>
	.wp-block-image img {
		width: 100%;
		height: auto;
	}
</style>
<style>
	img.featured-image {
		width: 100%;
		border-radius: 10px;
		height: auto;
	}
	.post-details {
		color: darkgrey;
		font-weight: 300;
	}
	a.term-link {
		display: inline-block;
		height: 1.5rem;
		padding: 0.75rem;
		margin: 0.5rem 0.5rem 0.5rem 0;
		background: linear-gradient(90deg, #0076dc 0%, #7a1ba6 100%);
		color: #fff;
		border-radius: 10px;
		font-weight: bold;
	}
</style>
